{% load static wagtailcore_tags wagtailuserbar %}
{% load static tailwind_tags %}
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8"/>
{% comment %}
    <title>
      {% block title %}
            {% if page.seo_title %}{{ page.seo_title }}{% else %}{{ page.title }}{% endif %}
        {% endblock %}
        {% block title_suffix %}
            {% wagtail_site as current_site %}
            {% if current_site and current_site.site_name %}- {{ current_site.site_name }}{% endif %}
        {% endblock %}
    </title>
    {% endcomment %}
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    {# Global stylesheets #}
    <link rel="stylesheet" type="text/css" href="{% static 'css/sfs.css' %}">

    {% block extra_css %}
        {# Override this in templates to add extra stylesheets #}

    {% endblock %}
    {% tailwind_css %}

    <!--TODO: COPY TO STATIC FILES-->
    <script src="https://unpkg.com/htmx.org@1.8.0"></script>

    <!--Alpine JS-->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>


</head>
<script type="text/javascript" src="{% static 'js/sfs.js' %}"></script>

<body class="antialiased" x-data="{ menu: false }" >

{% comment %} URL-dependent navbar {% endcomment %}
<div hx-get="/core/check_url_nav/"
     hx-trigger="load"
     hx-swap="outerHTML"
>
</div>

<section class="block" :class="{'hidden': menu == true}">
    {% wagtailuserbar %}

    {% block content %}

    {% endblock %}
</section>

{# Global javascript #}

{% block extra_js %}
    {# Override this in templates to add extra javascript #}
{% endblock %}

</body>

<script>
    document.body.addEventListener('htmx:configRequest', (event) => {
        event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
    })
</script>
</html>
