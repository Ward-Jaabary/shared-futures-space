{% load static %}
{% comment %}Don't delete me please I am $el.parentNode so I will perish anyway{% endcomment %}
<div>

    {% if messages_left_count > 0 %}
        Displaying {{ messages_displayed_count }} messages <br> there are {{ messages_left_count }} more!
    {% endif %}

    {% if page_obj.has_previous %}

        {% if direct %}

            {% with user_pk_string=members.0.pk|stringformat:'s' %}
                {% with user_slug=members.0.display_name|add:" "|add:user_pk_string|slugify %}
                    <button
                            hx-get="{% url 'user_chat' user_slug %}"
                            hx-vars="page:{{ page_obj.previous_page_number }}"
                            hx-params="*"
                            hx-trigger="click"
                            hx-target="#messages"
                            hx-swap="afterbegin"

                            x-on:click="setTimeout(function(e){
                            console.log($el.parentNode.remove());
                            $el.parentNode.remove()
                        }, 250);">

                        Load extra 10!
                    </button>
                {% endwith %}
            {% endwith %}
        {% else %}
            <button
                    hx-get="{% url 'river_chat' slug stage topic %}"
                    hx-vars="page:{{ page_obj.previous_page_number }}"
                    hx-params="*"
                    hx-trigger="click"
                    hx-target="#messages"
                    hx-swap="afterbegin"

                    x-on:click="setTimeout(function(e){
                            console.log($el.parentNode.remove());
                            $el.parentNode.remove()
                        }, 250);">

                Load extra 10!
            </button>
        {% endif %}
    {% endif %}
</div>