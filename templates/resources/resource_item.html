{% extends "base.html" %}
{% load wagtailimages_tags %}
{% load static %}

{% block extra_css %}

{% endblock extra_css %}

{% block content %}

    {% block title %}{% include "partials/title.html" with title="Resources" %}{% endblock %}

    <article class="px-4.5">
        <div class="h-2"></div>

        <h1 class="font-kanit-500 text-xl text-black-large leading-tight">
            {{ resource.title }}
        </h1>

        <div class="h-4"></div>

        {% if resource.tags %}
            <div class="flex flex-wrap gap-x-3 gap-y-2">
                {% for tag in resource.tags %}
                    <button class="whitespace-normal px-1.5 py-1 bg-blue-second text-black-large font-kanit-400 text-xxxs uppercase leading-none tracking-widest rounded-sm">
                        <a href="{% url "resources_tag" tag %}">{{ tag }}</a>
                    </button>
                {% endfor %}
            </div>
        {% endif %}

        <div class="h-4"></div>

        {% if resource.body %}
            <div class="mb-0.5 font-garamond-500 text-black-text text-base leading-5 whitespace-normal">
                {{ resource.body }}
            </div>
            <div class="h-4"></div>
        {% else %}
            <p class="mb-0.5 font-garamond-500 text-black-text text-base leading-5 whitespace-normal">
                {{ resource.summary }}
            </p>
        {% endif %}

        <div class="h-4"></div>

        {% if resource.case_study_image %}
            <div class="w-full h-auto">
                {% image resource.case_study_image max-750x400 %}
                <img src="{{ resource.case_study_image }}" alt="" title="">
            </div>
            <div class="h-4"></div>
        {% endif %}

        {% if resource.link %}
            <a href="{{ resource.link }}"
               class="font-kanit-400 font-medium text-[9px] tracking-wide text-black-text leading-normal">
                {{ resource.link }}
                <svg class="ml-1 mb-1 inline-block" width="10" height="10" viewBox="0 0 10 10" fill="none"
                     xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.817121 10L0 9.18288L8.01556 1.16732H0.661479V0H10V9.33852H8.83268V1.98444L0.817121 10Z"
                          fill="#9759FF"/>
                </svg>

            </a>
            <div class="h-4"></div>
        {% endif %}

        {% if user.is_authenticated %}
            {% if useful %}
                {% include 'partials/button-hx.html' with resource_id=resource.id status='found_useful' %}



            {% else %}
                {% include 'partials/button-hx.html' with resource_id=resource.id status='' %}
            {% endif %}

        {% endif %}
        {% comment %}
        {% include 'partials/button.html' with style='primary_white' button='Share' icon='link' %}
{% endcomment %}
        {% include 'partials/button-copy.html' with button='Share' %}

        <div class="h-4"></div>

        {% comment %}
{% include 'partials/button.html' with style='primary_white' icon='arrow-left' url='/resources/' %}
{% endcomment %}
        {% include 'partials/button.html' with style='primary_white' icon='arrow-left' url='/resources/' %}

        <div class="h-4"></div>

        {% include 'partials/text-style/meta-lowercase.html' with text="Published: " %}
        {% include 'partials/text-style/meta-lowercase.html' with text=resource.published_on %}
    </article>

{% endblock %}
