{% extends "base.html" %}
{% load static %}

{% load area_details %}
{% get_areas as areas %}

{% block extra_css %}

{% endblock extra_css %}

{% block content %}
    <div class="max-w-screen-xl mx-auto">
        {% block title %}{% include "partials/title.html" with title=area.name|add:' Map' %}{% endblock %}

        <div x-data="{ selectedPlace: null }"
             class="relative w-full h-[500px] overflow-hidden">
            <div class="absolute h-full z-20 transition-[width,opacity] duration-300"
                 :class="selectedPlace ? 'w-64 opacity-100' : 'w-0 opacity-0'">
                <div class="absolute right-0 w-64 overflow-hidden h-full bg-white p-4 rounded-sm shadow-map-detail">
                    <h2>deets</h2>
                    <pre x-text="JSON.stringify(selectedPlace, null, 2)"></pre>
                    <button @click="selectedPlace = null">close</button>
                </div>
            </div>
            <div x-map
                 @marker-click="selectedPlace = $event.detail"
                 @map-click="selectedPlace = null"
                 class="absolute w-full h-full z-10">
            </div>
        </div>
    </div>
{% endblock content %}
